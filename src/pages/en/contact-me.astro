---
import feather from 'feather-icons'
import Layout from '../../layouts/Layout.astro'
---

<style>
	h1 {
		font-family: 'Salsa', cursive;
	}
	input,
	textarea {
		color: white;
		background-color: transparent;
		border-bottom: 2px solid white;
	}
	input:focus,
	textarea:focus {
		outline: none;
	}
	.grecaptcha-badge {
		visibility: hidden;
	}
</style>

<Layout title="Ashley Lizbeth - Contact Info">
	<div class="h-screen w-screen p-10 pt-24">
		<div class="mb-6">
			<h1 class="mb-2 w-full text-center text-4xl text-[#996633]">
				Contact Info
			</h1>
			<div class="flex justify-center">
				<hr class="w-1/2" />
			</div>
			<h2 class="w-full text-center text-xl">
				I'd
				<span class="align-baseline text-2xl text-red-500">â™¥</span>
				to work with you,
			</h2>
			<p class="w-full text-center">
				so feel free to drop in and say hello!
			</p>
		</div>
		<div class="flex flex-col justify-center sm:flex-row">
			<div class="mb-4 flex w-full flex-col sm:w-2/3 md:w-1/2 lg:w-2/5">
				<form
					action="/portfolio/en/contact-me/email"
					method="post"
					class="flex flex-col px-5 pb-5"
					id="emailForm"
				>
					<div class="my-2">
						<label for="emailForm-name">Your name</label>
						<input
							type="text"
							id="emailForm-name"
							name="name"
							class="w-full"
							required
						/>
					</div>

					<div class="my-2">
						<label for="emailForm-email">Email</label>
						<input
							type="email"
							name="email"
							id="emailForm-email"
							class="w-full"
							required
						/>
					</div>

					<div class="my-2">
						<label for="emailForm-message">Message</label>
						<textarea
							name="message"
							id="emailForm-mesage"
							rows="1"
							class="w-full"
							required></textarea>
					</div>
					<p class="text-sm text-gray-400">
						This site is protected by reCAPTCHA and the Google
						<a
							href="https://policies.google.com/privacy"
							class="underline">Privacy Policy</a
						> and
						<a
							href="https://policies.google.com/terms"
							class="underline">Terms of Service</a
						> apply.
					</p>

					<button
						data-sitekey={import.meta.env
							.PUBLIC_RECAPTCHA_CLIENT_KEY}
						data-callback="onSubmit"
						data-action="submit"
						class="g-recaptcha mt-2 w-min rounded-md border-2 border-white px-6 py-1 text-white transition-all hover:bg-white hover:text-black focus:outline-none"
						>Send</button
					>
				</form>
			</div>
			<div class="flex w-full flex-col px-4 sm:w-auto md:px-10">
				<div class="flex justify-center">
					<div class="my-4 flex w-min flex-col gap-2">
						<div class="flex gap-2">
							<div set:html={feather.icons.mail.toSvg()} />
							<a href="mailto:26ashley.lizbeth@gmail.com"
								>26ashley.lizbeth@gmail.com</a
							>
						</div>
						<div class="flex gap-2">
							<div set:html={feather.icons['map-pin'].toSvg()} />
							<p>Zapopan, Jalisco</p>
						</div>
					</div>
				</div>
				<hr class="md:hidden" />
				<div class="w-full">
					<ul class="my-4 flex justify-center gap-6">
						<li
							class="flex h-10 w-10 items-center justify-center rounded-full border-2"
						>
							<a
								href="https://github.com/ashley-lizbeth"
								set:html={feather.icons.github.toSvg()}
							/>
						</li>
						<li
							class="flex h-10 w-10 items-center justify-center rounded-full border-2"
						>
							<a
								href="https://www.linkedin.com/in/ashley-lizbeth/"
								set:html={feather.icons.linkedin.toSvg({
									fill: '',
								})}
							/>
						</li>
						<li class="">
							<a
								href="https://profile.indeed.com/p/ashleyb-b36nw9s"
								class="flex h-10 w-10 items-center justify-center rounded-full border-2"
								set:html={`
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="28" viewBox="0 0 350 400" fill-rule="evenodd" clip-rule="evenodd" fill="white">
										<path d="M134.9,356.5V213c4.2,0.4,8.3,0.6,12.3,0.6    c20.1,0,38.9-5.3,54.9-14.5v157.5c0,13.4-3.1,23.4-9.4,30c-6.3,6.6-14.4,9.9-24.5,9.9c-9.8,0-17.7-3.3-23.9-10.1    C138.3,379.5,134.9,369.8,134.9,356.5z 
										M135.3,12.7 C176.9-1.9,224.5-1.1,260,28.9c6.6,6.1,14.2,13.6,17.1,22.7c3.7,11.2-12.5-1.1-14.9-2.8c-11.6-7.4-23.2-13.6-36.3-17.9    c-70-21-136.3,16.9-177.5,76.1c-16.9,26-28.2,53.4-37.4,83.6c-0.9,3.3-1.8,7.6-3.7,10.5c-1.8,3.3-0.7-8.8-0.7-9.4    c1.5-12.5,4.1-24.5,7.2-36.6C32.9,90.9,74.9,37.3,135.3,12.7z 
										M216,128.3c0,27.3-22.1,49.5-49.4,49.5s-49.4-22.1-49.4-49.5    s22.1-49.5,49.4-49.5S216,100.9,216,128.3z"/>
									</svg>
								`}
							/>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<script is:inline>
		function onSubmit(token) {
			fetch('/portfolio/api/recaptcha', {
				method: 'POST',
				body: JSON.stringify({ recaptcha: token }),
			})
				.then((response) => response.json())
				.then((gResponse) => {
					if (gResponse.success) {
						document.getElementById('emailForm').submit()
					}
				})
		}
	</script>
	<script>
		$(window).on('load', () => {
			$('textarea')
				.each(function () {
					this.setAttribute(
						'style',
						'height:' + this.scrollHeight + 'px;overflow-y:hidden;',
					)
				})
				.on('input', function () {
					this.style.height = '0'
					this.style.height = this.scrollHeight + 'px'
				})
			$('.grecaptcha-badge').css('visibility', 'hidden')
		})
	</script>
</Layout>
